---
import AuthLayout from "@/layouts/AuthLayout.astro";
import RegisterForm from "@/components/auth/RegisterForm";

// Enable SSR for this page
export const prerender = false;

// Check if user is already logged in
const { user } = Astro.locals;
if (user) {
  // User is already logged in - redirect to dashboard
  return Astro.redirect("/dashboard");
}
---

<AuthLayout title="Rejestracja | Secret Santa">
  <RegisterForm client:load />
</AuthLayout>
