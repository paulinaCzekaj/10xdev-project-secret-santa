---
import AuthLayout from "@/layouts/AuthLayout.astro";
import ForgotPasswordForm from "@/components/auth/ForgotPasswordForm";

// Enable SSR for this page
export const prerender = false;

// TODO: In the next phase, add session check to show info for logged in users
// const { data: { session } } = await supabaseClient.auth.getSession();
// const isLoggedIn = !!session;

// For now, we'll set isLoggedIn to false
const isLoggedIn = false;
---

<AuthLayout title="Resetowanie hasła | Secret Santa">
  <ForgotPasswordForm client:load isLoggedIn={isLoggedIn} />

  <div slot="footer-links">
    <p class="text-gray-600">
      Pamiętasz hasło?
      <a href="/login" class="text-red-600 hover:text-red-700 font-medium ml-1">Zaloguj się</a>
    </p>
  </div>
</AuthLayout>
